<div class="historial-card">

  <div class="historial-header" (click)="toggleHistorial()">
    <h3> Historial de Asistencias</h3>
    <span class="arrow" [class.open]="isOpen">▼</span>
  </div>

  <div class="historial-body" *ngIf="isOpen">

    <div class="filters">
      <div class="filter">
        <label>Fecha inicio</label>
        <input type="date" [(ngModel)]="fecInicio" />
      </div>

      <div class="filter">
        <label>Fecha fin</label>
        <input type="date" [(ngModel)]="fecFinal" />
      </div>

      <button class="btn-search" (click)="buscar()">Buscar</button>
    </div>

    <table>
      <thead>
        <tr>
          <th>Entrada</th>
          <th>Salida</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let a of asistencias">
          <td>{{ a.fecEntrada }}</td>
          <td>{{ a.fecSalida || 'NO MARCÓ SALIDA' }}</td>
        </tr>
      </tbody>
    </table>

    <div class="pagination">
      <button (click)="prevPage()" [disabled]="pageNumber === 0">
        Anterior
      </button>

      <span>Página {{ pageNumber + 1 }} de {{ totalPages }}</span>

      <button (click)="nextPage()" [disabled]="pageNumber + 1 === totalPages">
        Siguiente
      </button>
    </div>

  </div>
</div>

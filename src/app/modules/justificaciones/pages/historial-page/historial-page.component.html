<div class="historial-card">

  <h2>Historial de Justificaciones</h2>

  <div class="filters">

    <div class="filter">
      <label>Fecha inicio</label>
      <input
        type="date"
        [(ngModel)]="fecInicio"
        (change)="buscar()"
      />
    </div>

    <div class="filter">
      <label>Fecha fin</label>
      <input
        type="date"
        [(ngModel)]="fecFinal"
        (change)="buscar()"
      />
    </div>

    <div class="filter">
      <label>Estado</label>
      <select [(ngModel)]="estado" (change)="buscar()">
        <option value="P">Pendiente</option>
        <option value="A">Aprobado</option>
        <option value="R">Rechazado</option>
      </select>
    </div>

  </div>

  <div class="cards">

    <div
      class="just-card"
      *ngFor="let j of justificaciones"
      [appEstadoFila]="j.estado"
    >

      <div class="header">
        <div class="tipo">{{ j.nombreTipJust }}</div>
        <div class="fecha">
          {{ j.fechaJustificada | formatFechas }}
        </div>
      </div>

      <div class="body">
        <div class="descripcion">
          {{ j.descripcion }}
        </div>
      </div>

      <div class="footer">
        <span class="estado">
          {{ j.estado === 'P' ? 'Pendiente' :
             j.estado === 'A' ? 'Aprobado' : 'Rechazado' }}
        </span>
      </div>

    </div>

  </div>

  <div class="pagination">
    <button (click)="prevPage()" [disabled]="pageNumber === 0">
      Anterior
    </button>

    <span>
      PÃ¡gina {{ pageNumber + 1 }} de {{ totalPages }}
    </span>

    <button
      (click)="nextPage()"
      [disabled]="pageNumber + 1 === totalPages"
    >
      Siguiente
    </button>
  </div>

</div>
